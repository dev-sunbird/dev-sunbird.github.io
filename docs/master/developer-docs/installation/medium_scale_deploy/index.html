


	
		
		
	
	

	
	

	
	

	
			
		
		
		
		
		
	


<!DOCTYPE html>
<html>
	<head>
	<base id="baseURL" href="/docs/master/developer-docs/installation/medium_scale_deploy/" />

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=10, user-scalable=yes" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-touch-fullscreen" content="yes" />
<link rel="icon" type="image/png" href="/img/favicon/favicon-16x16.png" sizes="16x16">
<meta name="msapplication-TileColor" content="#65d3f7">
<meta name="msapplication-TileImage" content="/img/favicon/mstile-150x150.png">

<title>Sunbird Server Installationn</title>
<meta name="description" content="Sunbird Site Setting up Sunbird on a server"/>

<meta http-equiv="cache-control" content="max-age=0" />
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="Cache-Control" content="no-store" />
<meta http-equiv="pragma" content="no-cache" />
<meta name="last-modified" content="2018-05-04 02:18:20 +0530">
<meta http-equiv="Expires" content="600" />

<!--Build Details-->
<meta name="buildVersion" content="Release - release-1.1.0" />
<meta name="buildNo" content="105" />
<!--/Build Details-->

<!-- CDN's-->
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,600,700" >
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" >
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/4.13.0/bodymovin.js" type="text/javascript"></script>
<!-- /CDN's-->

<link rel="stylesheet" href="/css/owl/owl.carousel.min.css?04052018"  />
<link rel="stylesheet" href="/css/style.css?04052018"  />
<script type="text/javascript" src="/js/bootstrap.min.js?04052018"></script>
<script type="text/javascript" src="/js/owl.carousel.min.js?04052018"></script>
<script type="text/javascript" src="/js/jquery.tocLight.js?04052018"></script>
<script type="text/javascript" src="/js/jquery.elevateZoom-3.0.8.min.js?04052018"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-106552125-1"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'UA-106552125-1');
</script>

	<meta name="robots" content="noindex, nofollow">
  </head>
  <body id="body" class="doc-layout">
  <div class="container inner container-height docs master ">
    <header class="logo-container">
      <div class="logo">
        <a href="/index.html">
          <img src="/img/sunbird-logo.png" alt="Sunbird docs" title="Sunbird docs">
        </a>
      </div>
      <button type="button" class="dropdown-toggle collapsed" id="dropdown-trigger" data-toggle="collapse" data-target="#mobile-dropdown" aria-expanded="false">
        <i class="fa fa-bars" aria-hidden="true"></i>
      </button>
    </header>
    <nav class="sidebar-container" id="mobile-dropdown">
		<div class="inner__sidebar">
			
				<div class="search-cover">
	<form method="get" action="https://www.google.com/search" target="_blank">
		<input type="text" value="" name="q" placeholder="Search"/ class="search-input" title="Enter keyword to search">
		<input type="hidden" value="en" name="hl" />
		<input type="hidden" name="sitesearch" value="http://www.sunbird.org" />
		<input type="hidden" value="lang_en" name="lr" />
		<button type="submit" onclick="submit()" class="search-btn" title="Search">
			<i class="fa fa-search"></i>
		</button>
	</form>
</div>

			
			


	
		
		
	
	

	
	

	
	

	
			
		
		
		
		
		
	


<select id="docs-version">

	
		
		
		
			<option value="/docs/2.0/developer-docs/installation/medium_scale_deploy/" >
				Version 2.0
				
					( Latest )
				
				</option>
		
	

	
		
		
		
			<option value="/docs/1.0/developer-docs/installation/medium_scale_deploy/" >
				Version 1.0
				
				</option>
		
	

	

	

</select>

<script>
	$(function(){
		$('#docs-version').on('change', function () {
			var url = $(this).val(); // get selected value
				if (url) { // require a URL
					window.location = url; // redirect
					/*if (excludedSites.indexOf(window.location.host) > -1){
						window.location = url; // redirect
					} else {
						window.location = baseURL.href+url;  // redirect
					}*/
				}
			return false;
		});
	});
</script>

			<div class="sidebar-wrapper"> 



		
	

		
	

		
	

	
		
		
		<!-- Section Start-->
		
			
		
		
		<div class="section  section-architecture path-developer-docs ">
			<a href="/docs/master/architecture/" >
				<h4 class="sidebar-group-title">Architecture</h4>
			</a>
			
				<ul class="sidebar-group">
				
					<li>
								
						
							
								
							
							<a href="/docs/master/architecture/overview/" >
								Overview
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/architecture/design/" >
								Design
							</a>
						
					</li>
				
					<li>
								
						
							<div class="">
								
									
								
								<a href="/docs/master/architecture/views/elementryview/" >
									Views
								</a>
								<ul class="sidebar-group">
									
									<li>
										
											
										
										<a  href="/docs/master/architecture/views/logical/" >
											Logical View
										</a>
									</li>
									
									<li>
										
											
										
										<a  href="/docs/master/architecture/views/physical/" >
											Physical View
										</a>
									</li>
									
									<li>
										
											
										
										<a  href="/docs/master/architecture/views/conceptual/" >
											Conceptual View
										</a>
									</li>
									
									<li>
										
											
										
										<a  href="/docs/master/architecture/views/deployment/" >
											Deployment View
										</a>
									</li>
									
								</ul>
							</div>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/architecture/usecase/" >
								Use Cases
							</a>
						
					</li>
				
				</ul>
				
		</div>
		<!-- Section End-->
	
		<!-- Section Start-->
		
			
		
		
		<div class="section  section-features-documentation path-developer-docs ">
			<a href="/docs/master/features-documentation/" >
				<h4 class="sidebar-group-title">Product Features</h4>
			</a>
			
				<ul class="sidebar-group">
				
					<li>
								
						
							
								
							
							<a href="/docs/master/features-documentation/login/" >
								Login
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/features-documentation/register_org/" >
								Register Organizations
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/features-documentation/register_user/" >
								Register Users
							</a>
						
					</li>
				
					<li>
								
						
							<div class="">
								
									
								
								<a href="/docs/master/features-documentation/userrolepermission/" >
									User Roles and Permissions
								</a>
								<ul class="sidebar-group">
									
									<li>
										
											
										
										<a  href="/docs/master/features-documentation/user_type/" >
											Types of Users
										</a>
									</li>
									
									<li>
										
											
										
										<a  href="/docs/master/features-documentation/userprofile/" >
											User Profile
										</a>
									</li>
									
									<li>
										
											
										
										<a  href="/docs/master/features-documentation/workspace/" >
											Workspace
										</a>
									</li>
									
								</ul>
							</div>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/features-documentation/admindashboard/" >
								Administrator Dashboard
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/features-documentation/lessonplan/" >
								Lesson Plan
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/features-documentation/book_creation/" >
								Book
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/features-documentation/collection_creation/" >
								Collection
							</a>
						
					</li>
				
					<li>
								
						
							<div class="">
								
									
								
								<a href="/docs/master/features-documentation/course_intro/" >
									Courses
								</a>
								<ul class="sidebar-group">
									
									<li>
										
											
										
										<a  href="/docs/master/features-documentation/course_creation/" >
											Course Creation
										</a>
									</li>
									
									<li>
										
											
										
										<a  href="/docs/master/features-documentation/course_batches/" >
											Batch Creation
										</a>
									</li>
									
									<li>
										
											
										
										<a  href="/docs/master/features-documentation/course_consumption/" >
											Course Consumption
										</a>
									</li>
									
								</ul>
							</div>
						
					</li>
				
					<li>
								
						
							<div class="">
								
									
								
								<a href="/docs/master/features-documentation/badging_framework/badging_overview/" >
									Badging Framework
								</a>
								<ul class="sidebar-group">
									
									<li>
										
											
										
										<a  href="/docs/master/features-documentation/badging_framework/creating_badges/" >
											Creating Badges
										</a>
									</li>
									
									<li>
										
											
										
										<a  href="/docs/master/features-documentation/badging_framework/badges_users/" >
											Issuing Badges to Users
										</a>
									</li>
									
									<li>
										
											
										
										<a  href="/docs/master/features-documentation/badging_framework/content_badges/" >
											Issuing Badges for Content
										</a>
									</li>
									
								</ul>
							</div>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/features-documentation/announcement/" >
								Announcement
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/features-documentation/library/" >
								Library
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/features-documentation/contentlifecycle/" >
								Content Lifecycle
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/features-documentation/contenteditor/" >
								Content Editor
							</a>
						
					</li>
				
					<li>
								
						
							<div class="">
								
									
								
								<a href="/docs/master/features-documentation/guidelines/" >
									Guidelines
								</a>
								<ul class="sidebar-group">
									
									<li>
										
											
										
										<a  href="/docs/master/features-documentation/intellectualproperty/" >
											Intellectual Property
										</a>
									</li>
									
								</ul>
							</div>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/features-documentation/collaborationpartnership/" >
								Collaboration and Partnership
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/features-documentation/mobileapp/allappfeatures/" >
								Mobile App Features
							</a>
						
					</li>
				
				</ul>
				
		</div>
		<!-- Section End-->
	
		<!-- Section Start-->
		
			
		
		
		<div class="section  section-usertaskflow path-developer-docs ">
			<a href="/docs/master/usertaskflow/" >
				<h4 class="sidebar-group-title">User Task Flows</h4>
			</a>
			
				<ul class="sidebar-group">
				
					<li>
								
						
							
								
							
							<a href="/docs/master/usertaskflow/how_do_i_create_content/" >
								How do I Create Content
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/usertaskflow/how_do_i_add_video/" >
								How do I Add a Video
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/usertaskflow/how_do_i_add_text/" >
								How do I Add Text
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/usertaskflow/how_do_i_add_audio/" >
								How do I Add Audio
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/usertaskflow/how_do_i_add_hotspot/" >
								How do I Add a Hotspot
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/usertaskflow/how_do_i_add_image/" >
								How do I Add an Image
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/usertaskflow/how_do_i_add_shape/" >
								How do I Add Shapes
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/usertaskflow/how_do_i_add_scribblepad/" >
								How do I Add the Scribblepad
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/usertaskflow/how_do_i_add_activity/" >
								How do I Add an Activity
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/usertaskflow/how_do_i_create_course/" >
								How do I Create a Course
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/usertaskflow/how_do_i_create_book/" >
								How do I Create a Book
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/usertaskflow/how_do_i_create_book_with_dial_code/" >
								How do I Add DIAL Codes to a Book
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/usertaskflow/how_do_i_create_lessonplan/" >
								How do I Create a Lesson Plan
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/usertaskflow/how_do_i_create_collection/" >
								How do I Create a Collection
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/usertaskflow/reviewer_taskflow/" >
								How do I Review Content
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/usertaskflow/how_do_i_uploadcontent/" >
								How do I Upload Content
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/usertaskflow/how_do_i_delete_content/" >
								How do I Delete Content
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/usertaskflow/how_do_i_add_metadata/" >
								How do I Add Metadata
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/usertaskflow/how_do_i_add_resource/" >
								How do I Add Resource
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/usertaskflow/limited_sharing/" >
								How do I Share Content to a Limited Group
							</a>
						
					</li>
				
				</ul>
				
		</div>
		<!-- Section End-->
	
		<!-- Section Start-->
		
			
		
		
		<div class="section active section-developer-docs path-developer-docs ">
			<a href="/docs/master/developer-docs/" >
				<h4 class="sidebar-group-title">Developer Documentation</h4>
			</a>
			
				<ul class="sidebar-group">
				
					<li>
								
						
							
								
							
							<a href="/docs/master/developer-docs/getting_started/" >
								Getting Started with Sunbird
							</a>
						
					</li>
				
					<li>
								
						
							<div class="">
								
									
								
								<a href="/docs/master/developer-docs/installation/" >
									Installation
								</a>
								<ul class="sidebar-group">
									
									<li>
										
											
										
										<a  href="/docs/master/developer-docs/installation/installing_sunbirdon_machine/" >
											Developer Installation
										</a>
									</li>
									
									<li>
										
											
										
										<a  href="/docs/master/developer-docs/installation/medium_scale_deploy/" >
											Server Installation
										</a>
									</li>
									
									<li>
										
											
										
										<a  href="/docs/master/developer-docs/installation/install_mobile_setup/" >
											Mobile App Installation
										</a>
									</li>
									
									<li>
										
											
										
										<a  href="/docs/master/developer-docs/upgrading/" >
											Upgrading Sunbird
										</a>
									</li>
									
								</ul>
							</div>
						
					</li>
				
					<li>
								
						
							<div class="">
								
									
								
								<a href="/docs/master/developer-docs/onboarding/" >
									Onboarding
								</a>
								<ul class="sidebar-group">
									
									<li>
										
											
										
										<a  href="/docs/master/developer-docs/singlesignon/overview_sso/" >
											Onboarding via Single Sign On
										</a>
									</li>
									
									<li>
										
											
										
										<a  href="/docs/master/developer-docs/configuring_announcement/" >
											Configuring for Announcements
										</a>
									</li>
									
								</ul>
							</div>
						
					</li>
				
					<li>
								
						
							<div class="">
								
									
								
								<a href="/docs/master/developer-docs/telemetry/overview/" >
									Telemetry
								</a>
								<ul class="sidebar-group">
									
									<li>
										
											
										
										<a  href="/docs/master/developer-docs/telemetry/specification/" >
											Telemetry Specifications
										</a>
									</li>
									
									<li>
										
											
										
										<a  href="/docs/master/developer-docs/telemetry/sending_telemetry/" >
											Sending Telemetry
										</a>
									</li>
									
								</ul>
							</div>
						
					</li>
				
					<li>
								
						
							<div class="">
								
									
								
								<a href="/docs/master/developer-docs/library_reference/" >
									Library References
								</a>
								<ul class="sidebar-group">
									
									<li>
										
											
										
										<a  href="/docs/master/developer-docs/telemetry/jslibrary/" >
											Standalone JS Library
										</a>
									</li>
									
									<li>
										
											
										
										<a  href="/docs/master/developer-docs/telemetry/htmlinterfacelibrary/" >
											HTML Interface Library
										</a>
									</li>
									
									<li>
										
											
										
										<a  href="/docs/master/developer-docs/telemetry/authtokengenerator_jslibrary/" >
											AuthToken Generator JS Library
										</a>
									</li>
									
								</ul>
							</div>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/developer-docs/troubleshooting/" >
								Troubleshooting
							</a>
						
					</li>
				
					<li>
								
						
							<div class="">
								
									
								
								<a href="/docs/master/extensible-framework/" >
									Extensible Framework
								</a>
								<ul class="sidebar-group">
									
									<li>
										
											
										
										<a  href="/docs/master/extensible-framework/content-editor/framework/" target="_blank">
											Content Editor Framework
										</a>
									</li>
									
									<li>
										
											
										
										<a  href="/docs/master/extensible-framework/content-editor/plugins/" target="_blank">
											Content Editor Plugin
										</a>
									</li>
									
									<li>
										
											
										
										<a  href="/docs/master/extensible-framework/content-renderer/" target="_blank">
											Content Renderer
										</a>
									</li>
									
								</ul>
							</div>
						
					</li>
				
				</ul>
				
		</div>
		<!-- Section End-->
	
		<!-- Section Start-->
		
			
		
		
		<div class="section  section-apis path-developer-docs ">
			<a href="/docs/master/apis/" >
				<h4 class="sidebar-group-title">API Reference Documentation</h4>
			</a>
			
				<ul class="sidebar-group">
				
					<li>
								
						
							
								
							
							<a href="/docs/master/apis/#feature" >
								Feature
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/apis/#admin-apis" >
								Administration
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/apis/#setup-apis" >
								Setup
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/apis/#data-apis" >
								Data
							</a>
						
					</li>
				
				</ul>
				
		</div>
		<!-- Section End-->
	
		<!-- Section Start-->
		
			
		
		
		<div class="section  section- path-developer-docs ">
			<a href="/docs/contributions/" >
				<h4 class="sidebar-group-title">Contribute to Sunbird</h4>
			</a>
			
				<ul class="sidebar-group">
				
					<li>
								
						
							
								
							
							<a href="/docs/contributions/filing_a_bug" >
								Guidelines for Filing a Bug
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/contributions/contribution_guidelines" >
								Contributing to Sunbird Documentation
							</a>
						
					</li>
				
				</ul>
				
		</div>
		<!-- Section End-->
	
		<!-- Section Start-->
		
			
		
		
		<div class="section  section-faqs path-developer-docs ">
			<a href="/docs/master/faqs/" >
				<h4 class="sidebar-group-title">Frequently asked questions</h4>
			</a>
			
				<ul class="sidebar-group">
				
					<li>
								
						
							
								
							
							<a href="/docs/master/faqs/audience/" >
								Audience
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/faqs/content_format/" >
								Content Format
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/faqs/content_repo/" >
								Content Repositories
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/faqs/contentreviews/" >
								Content Review
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/faqs/content_types/" >
								Content Types
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/faqs/content_upload/" >
								Content Upload
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/faqs/feature/" >
								Features
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/faqs/fixerrors/" >
								Fix Errors
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/faqs/helpsupport/" >
								Help Support
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/faqs/intellectual_propertylicensesstandards/" >
								Intellectual Property Licenses Standards
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/faqs/registrationenrolment/" >
								Registration and Enrollment
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/faqs/signin/" >
								Sign In
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/faqs/taxonomymetadataframework/" >
								Taxonomy Meta Data Framework
							</a>
						
					</li>
				
					<li>
								
						
							
								
							
							<a href="/docs/master/faqs/user_rightspermissions/" >
								Users Rights and Permission
							</a>
						
					</li>
				
				</ul>
				
		</div>
		<!-- Section End-->
	
		<!-- Section Start-->
		
			
		
		
		<div class="section  section-glossary path-developer-docs ">
			<a href="/docs/master/glossary/" >
				<h4 class="sidebar-group-title">Glossary</h4>
			</a>
			
		</div>
		<!-- Section End-->
	
		
	
	<!-- Contribution Sidebar-->
</div>
<script>
	$("a[href$='/docs/master/developer-docs/installation/medium_scale_deploy/']").addClass("sidebar-link-selected");
</script>

		</div>
    </nav>
    <div class="content">
      <div class="inner__content header" id="heading">
        <h1>Server Installation </h1>
      </div>

      <div id="main-content" class="inner__content">
			<p class="edit-para text-right">
				<span>
			<a target="_blank" class="contribute" href="/docs/contributions/contribution_guidelines">
				  <i class="fa fa-book" aria-hidden="true"></i> <i>Contribution Guidelines</i>
			  </a> &nbsp;&nbsp;
			  
			 <a target="_blank"  title="Edit this page" class="" href="https://github.com/dev-sunbird/docs/edit/master/developer-docs/installation/medium_scale_deploy.md">
				  <i class="fa fa-pencil-square-o" aria-hidden="true"></i> Edit
			  </a> 
			  | 
			  <a target="_blank" href="https://github.com/dev-sunbird/docs/issues" title="Report issue">
				  <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
				  Report
			  </a>
			  </span>
			</p>
          <div id="toc-container">
  <table class="toc" id="toc">
    <tbody>
      <tr>
        <td>
          <div id="toctitle">
            <h2>Contents</h2>
            <span class="toctoggle">[<a id="toctogglelink" class="internal" href="#">hide</a>]</span>
          </div>
          <ul>
            <li class="toc_level-1 toc_section-1">
              <a href="#overview"><span class="tocnumber">1 .</span> <span class="toctext">Overview</span></a>
            </li>
            <li class="toc_level-1 toc_section-2">
              <a href="#prerequisites"><span class="tocnumber">2 .</span> <span class="toctext">Prerequisites</span></a>
            </li>
            <li class="toc_level-1 toc_section-3">
              <a href="#installation-procedure"><span class="tocnumber">3 .</span> <span class="toctext">Installation Procedure</span></a>
            </li>
            <li class="toc_level-1 toc_section-4">
              <a href="#sunbird-install-script"><span class="tocnumber">4 .</span> <span class="toctext">Sunbird Install Script</span></a>
            </li>
            <li class="toc_level-1 toc_section-5">
              <a href="#mapping-ports"><span class="tocnumber">5 .</span> <span class="toctext">Mapping Ports</span></a>
            </li>
            <li class="toc_level-1 toc_section-6">
              <a href="#badger-setup"><span class="tocnumber">6 .</span> <span class="toctext">Badger Setup</span></a>
            </li>
            <li class="toc_level-1 toc_section-7">
              <a href="#keycloak-setup"><span class="tocnumber">7 .</span> <span class="toctext">Keycloak Setup</span></a>
            </li>
          </ul>
        </td>
      </tr>
    </tbody>
  </table>
</div><h2 id="overview">Overview</h2>

<p>Sunbird software is containerized. The installation script uses the Docker swarm orchestration engine to run the Sunbird docker images. The Docker swarm consists of manager and agent nodes. The containers are run on the agent nodes and the manager nodes manage the container lifecycle.</p>

<p>All the stateless services in Sunbird - Portal, LMS Backend, API Gateway and Proxies - are run as docker containers inside the swarm. All stateful services consisting of Cassandra, PostgreSql, Elasticsearch and the OAuth service(Keycloak) are run on Virtual Machines (VMs) directly. The installation is automated using shell scripts and Ansible.</p>

<h2 id="prerequisites">Prerequisites</h2>

<ul>
  <li>
    <p>Minimum 2 servers with 7 GB RAM, running Ubuntu server 16.04 LTS. You can scale the infrastructure by adding servers. Sunbird is designed to scale horizontally. The servers should connect to each other over TCP on the following <a href="#mapping-ports">ports</a>. The scripts do not work on virtual machines created locally (using VMware/VirtualBox) and have been tested on Azure and AWS VMs.</p>
  </li>
  <li>
    <p>Recommended that you have a domain name and a valid SSL certificate for the domain. If you do not have a domain name, you can configure Sunbird to be accessible over an IP address. If you have a domain name, and want to get an SSL certificate, use <a href="https://letsencrypt.org/">Let’s Encrypt</a> to generate a free certificate that is valid for 90 days.</p>
  </li>
  <li>
    <p>Sunbird requires Ekstep API keys to access the Ekstep content repository. Follow the steps <a href="http://www.sunbird.org/developer-docs/telemetry/authtokengenerator_jslibrary/#how-to-generate-authorization-credentials">here</a> to get the keys. If you are creating a test environment, get the QA API keys.</p>
  </li>
  <li>
    <p>Create a common linux user (e.g. deployer) on all the servers. Configure this user to use <a href="https://www.digitalocean.com/community/tutorials/how-to-configure-ssh-key-based-authentication-on-a-linux-server">key based ssh</a>. Use an empty passphrase while generating the ssh key to avoid password prompts during installation. Since the installation script uses this key (user) to deploy Sunbird, this user must have sudo access on the servers.</p>
  </li>
  <li>
    <p>The following table lists the services that are set up and run as part of installation. The table also lists the optimal server count for a typical staging or production environment with thousands of users.</p>

    <table>
      <thead>
        <tr>
          <th style="text-align: left">Server Name</th>
          <th style="text-align: left">Suggested Servers per environment</th>
          <th style="text-align: left">Basic Requirement</th>
          <th style="text-align: left">Max Servers</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td style="text-align: left">Docker swarm manager<sup>1</sup></td>
          <td style="text-align: left">Staging - 1 <br /> Prod - 3</td>
          <td style="text-align: left">CPU: 1core &amp; RAM: 2GB</td>
          <td style="text-align: left">Any</td>
        </tr>
        <tr>
          <td style="text-align: left">Docker swarm  agent nodes<sup>1</sup></td>
          <td style="text-align: left">Staging - 1 <br /> Prod - 3</td>
          <td style="text-align: left">CPU: 2core &amp; RAM: 6GB</td>
          <td style="text-align: left">Any</td>
        </tr>
        <tr>
          <td style="text-align: left">Elasticsearch<sup>2</sup></td>
          <td style="text-align: left">Staging - 1 <br /> Prod- 3</td>
          <td style="text-align: left">CPU: 1core &amp; RAM: 3GB</td>
          <td style="text-align: left">Any</td>
        </tr>
        <tr>
          <td style="text-align: left">Postgres master<sup>2</sup></td>
          <td style="text-align: left">Staging&amp;Prod - 1</td>
          <td style="text-align: left">CPU: 1core &amp; RAM: 3GB</td>
          <td style="text-align: left">1</td>
        </tr>
        <tr>
          <td style="text-align: left">Postgres slave<sup>2</sup></td>
          <td style="text-align: left">Staging&amp;Prod - 1</td>
          <td style="text-align: left">CPU: 1core &amp; RAM: 3GB</td>
          <td style="text-align: left">1</td>
        </tr>
        <tr>
          <td style="text-align: left">Cassandra<sup>2</sup></td>
          <td style="text-align: left">Staging&amp;Prod - 1</td>
          <td style="text-align: left">CPU: 1core &amp; RAM: 3GB</td>
          <td style="text-align: left">1</td>
        </tr>
        <tr>
          <td style="text-align: left">Keycloak<sup>1</sup></td>
          <td style="text-align: left">Staging&amp;Prod - 1</td>
          <td style="text-align: left">CPU: 1core &amp; RAM: 4GB</td>
          <td style="text-align: left">Any</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p>When you install Sunbird on 2 servers, all the services with the common superscript (e.g. servername<sup>2</sup>) in the Server Name are run on the same server. The App server runs services with superscript <sup>1</sup> and the DB server runs services with superscript <sup>2</sup>.</p>
  </li>
</ul>

<p><strong>Note:</strong> If you setup more than one swarm agent node, you will need to configure a load balancer to spray the incoming requests to all the agent nodes. All agent nodes in a swarm route the request to the right service.</p>

<h2 id="installation-procedure">Installation Procedure</h2>

<p><strong>Note:</strong> Choose one docker swarm manager VM as the installation server and execute the following steps from that server. If you are installing Sunbird on two servers, execute the steps from the app server.</p>

<p>1.Install git using <code>apt-get update -y &amp;&amp; apt-get install git -y </code></p>

<p>2.Run <code>git clone https://github.com/project-sunbird/sunbird-devops.git</code></p>

<p>3.<code>cd sunbird-devops/deploy</code></p>

<p>4.Update the configuration parameters in the <code>config</code> file. The configuration parameters are explained in the following table:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">variable</th>
      <th style="text-align: left">description</th>
      <th style="text-align: left">mandatory</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code>env</code></td>
      <td style="text-align: left">Name of the environment you are deploying. Typically, it is one of development, test, staging, production, etc..</td>
      <td style="text-align: left">yes</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>implementation_name</code></td>
      <td style="text-align: left">Name of your sunbird implementation.</td>
      <td style="text-align: left">yes</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>ssh_ansible_user</code></td>
      <td style="text-align: left">SSH user with sudo access for accessing all servers.</td>
      <td style="text-align: left">yes</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>ansible_private_key_path</code></td>
      <td style="text-align: left">Path to the private SSH key file for the ssh_ansible_user. Ansible uses this file to SSH to the servers.</td>
      <td style="text-align: left">yes</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>dns_name</code></td>
      <td style="text-align: left">Domain name for your installation. Use the IP address if want to access Sunbird over an IP address</td>
      <td style="text-align: left">yes</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>proto</code></td>
      <td style="text-align: left">http/https. Use http if your dns_name is an IP address or if you have a domain but do not want ssl for trials.</td>
      <td style="text-align: left">yes</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>cert_path</code></td>
      <td style="text-align: left">Path to .cert file (SSL certificate) for nginx. This variable need not be set if the proto is set to http.</td>
      <td style="text-align: left">no</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>key_path</code></td>
      <td style="text-align: left">Path to .key file (SSL certificate) for nginx. This variable need not be set if the proto is set to http</td>
      <td style="text-align: left">no</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>ekstep_base_url</code></td>
      <td style="text-align: left">https://qa.ekstep.in/api &amp; prod: https://api.ekstep.in</td>
      <td style="text-align: left">yes</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>sunbird_auth_token</code></td>
      <td style="text-align: left">JWT token generated by Ansible, you can get it from ~/jwt_token_player.txt after you have executed the ./sunbird_install.sh script.</td>
      <td style="text-align: left">yes</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>ekstep_api_key</code></td>
      <td style="text-align: left">Jwt token generated by the key,secret produced from Ekstep</td>
      <td style="text-align: left">yes</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>sso_password</code></td>
      <td style="text-align: left">Password for keycloak sso user (default user is user-manager, can change it it keycloak gui)</td>
      <td style="text-align: left">yes</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>keycloak_admin_password</code></td>
      <td style="text-align: left">Keycloak admin console password (default admin username is admin, can change it in keycloak gui)</td>
      <td style="text-align: left">yes</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>trampoline_secret</code></td>
      <td style="text-align: left">Trampoline secret for keycloak, atleast 8 chars</td>
      <td style="text-align: left">yes</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>app_address_space</code></td>
      <td style="text-align: left">Application server address space (e.g. 10.3.0.0/24)</td>
      <td style="text-align: left">yes</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>ekstep_api_base_url</code></td>
      <td style="text-align: left">https://qa.ekstep.in/api &amp; prod: https://api.ekstep.in</td>
      <td style="text-align: left">yes</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>ekstep_proxy_base_url</code></td>
      <td style="text-align: left">https://qa.ekstep.in  &amp; prod: https://community.ekstep.in</td>
      <td style="text-align: left">yes</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>sudo_passwd</code></td>
      <td style="text-align: left">The sudo password, if the user has it else skip the parameter</td>
      <td style="text-align: left">no</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>database_host</code></td>
      <td style="text-align: left">The private IP address of the DB server</td>
      <td style="text-align: left">no</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>database_password</code></td>
      <td style="text-align: left">The common password for all the databases</td>
      <td style="text-align: left">no</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>elasticsearch_host</code></td>
      <td style="text-align: left">A comma-separated (,) list of Elasticsearch database IP addresses.</td>
      <td style="text-align: left">no</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>cassandra_host</code></td>
      <td style="text-align: left">The IP address of the Cassandra database.</td>
      <td style="text-align: left">no</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>postgres_master_host</code></td>
      <td style="text-align: left">The IP address of the Postgres master database</td>
      <td style="text-align: left">no</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>postgres_slave_host</code></td>
      <td style="text-align: left">The IP address of the Postgres slave database. If you do not need a slave node enter the same IP address as that of the master.</td>
      <td style="text-align: left">no</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>swarm_manager_host</code></td>
      <td style="text-align: left">A comma-separated (,) list of IP addresses of the swarm managers.</td>
      <td style="text-align: left">no</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>swarm_node_host</code></td>
      <td style="text-align: left">A comma-separated (,) list of swarm node IP addresses .</td>
      <td style="text-align: left">no</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>keycloak_host</code></td>
      <td style="text-align: left">A comma-separated (,) list of keycloak IP addresses.</td>
      <td style="text-align: left">no</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>sunbird_dataservice_url</code></td>
      <td style="text-align: left">The API url of sunbird, for example; https://demo.opensunbird.o</td>
      <td style="text-align: left">no</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>sunbird_azure_storage_account</code></td>
      <td style="text-align: left">The Azure storage account for the badger service</td>
      <td style="text-align: left">no</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>sunbird_azure_storage_key</code></td>
      <td style="text-align: left">The Azure storage key for the badger service</td>
      <td style="text-align: left">no</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>sunbird_image_storage_url</code></td>
      <td style="text-align: left">The Azure image url for the badger service</td>
      <td style="text-align: left">no</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>sunbird_installation_email</code></td>
      <td style="text-align: left">The Sunbird installation email ID</td>
      <td style="text-align: left">no</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>sunbird_telemetry_pdata_id</code></td>
      <td style="text-align: left">The Sunbird telemetry pdata ID, for example <br /> {env}.{implimentation_name}.learning.service</td>
      <td style="text-align: left">no</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>backup_storage_name</code></td>
      <td style="text-align: left">elasticsearch backupstorage name</td>
      <td style="text-align: left">yes</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>backup_storage_key</code></td>
      <td style="text-align: left">elasticsearch backupstorage key</td>
      <td style="text-align: left">yes</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>es_etc_cluster_name</code></td>
      <td style="text-align: left">elasticsearch backupstorage cluster name</td>
      <td style="text-align: left">yes</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>sunbird_environment</code></td>
      <td style="text-align: left">The Sunbird installation environment</td>
      <td style="text-align: left">yes</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code>sunbird_instance</code></td>
      <td style="text-align: left">The Sunbird installation name</td>
      <td style="text-align: left">yes</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p>5.Run the script <code>./sunbird_install.sh</code>. This script sets up the infra setup from  stage 1 to stage 6 in a sequence shown in following table.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">stage no</th>
      <th style="text-align: left">stage name</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">1</td>
      <td style="text-align: left">config</td>
      <td style="text-align: left">Generates configuration file and hosts file</td>
    </tr>
    <tr>
      <td style="text-align: left">2</td>
      <td style="text-align: left">dbs</td>
      <td style="text-align: left">Installs all databases and creates schema</td>
    </tr>
    <tr>
      <td style="text-align: left">3</td>
      <td style="text-align: left">apis</td>
      <td style="text-align: left">Sets up API manager kong and Onboard API’s and consumer’s</td>
    </tr>
    <tr>
      <td style="text-align: left">4</td>
      <td style="text-align: left">proxy</td>
      <td style="text-align: left">Deploys and configures Nginx</td>
    </tr>
    <tr>
      <td style="text-align: left">5</td>
      <td style="text-align: left">keycloak</td>
      <td style="text-align: left">Deploys and configures Keycloak</td>
    </tr>
    <tr>
      <td style="text-align: left">6</td>
      <td style="text-align: left">badger</td>
      <td style="text-align: left">Deploys the badger service</td>
    </tr>
    <tr>
      <td style="text-align: left">7</td>
      <td style="text-align: left">core</td>
      <td style="text-align: left">Deploys all core services</td>
    </tr>
  </tbody>
</table>

<p>6.The badger service is set up manually. To do so, follow the steps given <a href="#badger-setup">here</a>.</p>

<p><strong>Note</strong>: The badger service does not work without an Azure storage account name and key.</p>

<p>7.Verify that all the mandatory variables, for example; sunbird_auth_token, ekstep_api_key, of the Sunbird core services are updated, and run the script <code>./sunbird_install.sh -s core</code> to deploying the core services.</p>

<p><strong>Note</strong>: If you want to re-run any particular stage in the installation, just run <code>./sunbird_install.sh -s &lt;stagename&gt;</code></p>

<p>To know more about the script <code>sunbird_install.sh</code>, click <a href="#sunbird-install-script">here</a>.</p>

<p>8.Open https://[domain-name] and verify the installation.</p>

<h2 id="sunbird-install-script">Sunbird Install Script</h2>

<p>The Sunbird installation script <code>./sunbird_install.sh</code> is a wrapper shell script that invokes other scripts or Ansible playbooks. It fetches all the docker images from the Sunbird DockerHub repository.</p>

<ul>
  <li>
    <p><code>install-deps.sh</code> - Installs Ansible v2.4.1.0 on the installation server to provision and deploy Sunbird. This script also sets up the docker swarm.</p>
  </li>
  <li>
    <p><code>generate_config.sh</code> - Creates a workspace for the installation and sets up necessary config files.</p>
  </li>
  <li>
    <p><code>generate_hosts.sh</code> - Creates a hosts file (Ansible file format) dynamically to run the Ansible scripts.</p>
  </li>
  <li>
    <p><code>install-dbs.sh</code> - Installs Cassandra, Elasticsearch and Postgres databases</p>
  </li>
  <li>
    <p><code>init-dbs.sh</code> - Sets up the required schema for Cassandra, Elasticsearch and Postgres databases</p>
  </li>
  <li>
    <p><code>deploy-apis.sh</code> - Deploys the api gateway (Kong) as a docker service using Ansible.</p>
  </li>
  <li>
    <p><code>onboard-apis.sh</code>  - Onboards the Sunbird APIs and consumers to the API gateway using Ansible.</p>
  </li>
  <li>
    <p><code>deploy-proxy.sh</code> - Deploys the proxy (Nginx) as a docker service.</p>
  </li>
  <li>
    <p><code>provision-keycloak.sh</code> - Installs Keycloak.</p>
  </li>
  <li>
    <p><code>deploy-keycloak-vm.sh</code> - Deploys the OAuth service (Keycloak) on the VM. The Keycloak service runs outside the swarm.</p>
  </li>
  <li>
    <p><code>bootstrap-keycloak.sh</code> - Imports the auth realm and configures Keycloak.</p>
  </li>
  <li>
    <p><code>deploy-badger.sh</code> - Deploys the badger service as docker service.</p>
  </li>
  <li>
    <p><code>deploy-core.sh</code> - Deploys the core services player, content, actor and learner service as docker services. The content, actor and learner service together form the LMS backend.</p>
  </li>
</ul>

<h2 id="mapping-ports">Mapping Ports</h2>
<p>The following is a list of ports that must be open:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">From server</th>
      <th style="text-align: left">To server</th>
      <th style="text-align: left">port</th>
      <th style="text-align: left">protocal</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Administration server</td>
      <td style="text-align: left">All servers</td>
      <td style="text-align: left">22</td>
      <td style="text-align: left">TCP</td>
    </tr>
    <tr>
      <td style="text-align: left">ELB</td>
      <td style="text-align: left">0.0.0.0</td>
      <td style="text-align: left">80,433</td>
      <td style="text-align: left">TCP</td>
    </tr>
    <tr>
      <td style="text-align: left">swarm managers subnet</td>
      <td style="text-align: left">swarm nodes subnet</td>
      <td style="text-align: left">All</td>
      <td style="text-align: left">TCP &amp; UDP</td>
    </tr>
    <tr>
      <td style="text-align: left">swarm nodes</td>
      <td style="text-align: left">Cassandra servers</td>
      <td style="text-align: left">9042</td>
      <td style="text-align: left">TCP</td>
    </tr>
    <tr>
      <td style="text-align: left">swarm nodes</td>
      <td style="text-align: left">Cassandra servers</td>
      <td style="text-align: left">9042</td>
      <td style="text-align: left">TCP</td>
    </tr>
    <tr>
      <td style="text-align: left">swarm nodes</td>
      <td style="text-align: left">Elasticsearch servers</td>
      <td style="text-align: left">9200</td>
      <td style="text-align: left">TCP</td>
    </tr>
    <tr>
      <td style="text-align: left">swarm nodes</td>
      <td style="text-align: left">Postgres servers</td>
      <td style="text-align: left">5432</td>
      <td style="text-align: left">TCP</td>
    </tr>
    <tr>
      <td style="text-align: left">swarm nodes</td>
      <td style="text-align: left">Keycloak</td>
      <td style="text-align: left">8080</td>
      <td style="text-align: left">TCP</td>
    </tr>
  </tbody>
</table>

<h2 id="badger-setup">Badger Setup</h2>

<ol>
  <li>
    <p>Run <code>ssh -i &lt;key path (which you gave in config file)&gt; $(whoami)@$(docker service ps badger-service | grep Runn | awk '{print $4}')</code> to login to node where badger container is running.<br />
 Example: <code>ssh -i ~/ssh_key.pem $(whoami)@$(docker service ps badger-service | grep Runn | awk '{print $4}')</code></p>
  </li>
  <li>
    <p>Run <code>docker exec -it -u root $(docker ps | grep badger | head -n1 | awk '{print $1}') /bin/sh</code> to login  to the badger container.</p>
  </li>
  <li>
    <p>Move to the directory <code>cd /badger/code</code></p>
  </li>
  <li>
    <p>Run <code>./manage.py createsuperuser</code>. Provide a valid username, email ID and password.</p>
  </li>
  <li>
    <p>Install curl.
  <code>apt-get install curl -y</code></p>
  </li>
  <li>
    <p>Run the following curl command to get the sunbird badger authorization variable.</p>

    <p><code>curl -X POST 'http://localhost:8004/api-auth/token' -d "username=&lt;emailid&gt;&amp;password=&lt;password&gt;"</code></p>
  </li>
  <li>
    <p>Set the output token of above command as the value for the <code>vault_sunbird_badger_authorization</code> in config file.</p>
  </li>
</ol>

<h2 id="keycloak-setup">Keycloak Setup</h2>

<p>Keycloak is the auth server for sunbird.</p>

<p>In order to make keycloak work with android application, please follow the below steps</p>

<ol>
  <li>Open keycloak web ui <code>https://dns-name/auth</code></li>
  <li>Log in to the admin console using credentials (default uesername : admin and passwod: <keycloak_admin_password given="" in="" config="">)</keycloak_admin_password></li>
  <li>Navigate to Clients -&gt; Android and delete both redirection urls and update with <code>https://&lt;dns-name&gt;/oauth2callback</code>
<img src="pages/developer-docs/installation/images/keycloak-android-redirect.png" /></li>
</ol>

          
          <hr />
          
          <p class="edit-para text-right">
			<a target="_blank" href="https://github.com/dev-sunbird/docs/edit/master/developer-docs/installation/medium_scale_deploy.md" title="Fix this page">
				<i class="fa fa-pencil-square-o" aria-hidden="true"></i> Edit</a> |
			<a target="_blank" href="https://github.com/dev-sunbird/docs/issues" title="Report issue">
				<i class="fa fa-exclamation-circle" aria-hidden="true"></i> Report</a>
		  </p>
		  <a href="/docs/master/developer-docs/installation/medium_scale_deploy/#heading" class="scrollup"><i class="fa fa-arrow-circle-up" aria-hidden="true"></i></a>
          
      </div>
    </div>
    <div class="page-footer">
		<footer class="footer">
	<div class="footer__top">
		<div class="container">
			<div class="row">
				
			<div class="col-md-4 col-sm-12">
			</div>
			
			<div class="col-md-2 col-sm-6 ">
				<ul>
					<li><a href="/about/">About Sunbird</a></li>
					<li><a href="/contact/">Contact Us</a></li>
					<li><a href="/privacy-policy/">Privacy Policy</a></li>
				</ul>
			</div>
			
			<div class="col-md-2 col-sm-6 sideline">
				<ul>
					<li><a href="/docs/">Documentation</a></li>
					<li><a href="/features/">Features</a></li>
				</ul>
			</div>

			<div class="col-md-2 col-sm-12">
			</div>
			
		</div>
	</div>
</footer>
 

	</div>
  </div>
  <script type="text/javascript">
	//TOC Toggle
    $(function() {
        $.toc.clickHideButton();
    });
    //Scroll to top
    $(document).ready(function () {
		$(".content").scroll(function () {
			if ($(this).scrollTop() > 250) {
				$('.scrollup').fadeIn();
			} else {
				$('.scrollup').fadeOut();
			}
		});
	});
	$('#toc a').each(function(){
		var url = this.href.replace(baseURL.href, "");
		this.href = '/docs/master/developer-docs/installation/medium_scale_deploy/' + url;
    })
	$(".zoomcover").click(function(){
		if (!$(this).hasClass("fullscreen")){
			$(this).addClass("fullscreen");
			$(this).find(".zoom").addClass("enabled").elevateZoom({
				zoomType: "inner",
				cursor  : "crosshair",
				scrollZoom: "true"
			});
		} else {
			$(this).removeClass("fullscreen");
			$(this).find(".zoom").removeClass("enabled");
			$(".zoomContainer").hide();
		}
	});
	$(document).keyup(function(e) {
     if (e.keyCode == 27) { 
		$(".zoomcover").removeClass("fullscreen");
		$(".zoomcover").find(".zoom").removeClass("enabled");
		$(".zoomContainer").hide();
    }
});
  </script>
  <style>
  .zoom:hover{
	cursor:url(img/zoom.png),crosshair;
  }
  .zoomWindowContainer:hover div{
	cursor:url(img/scroll.png),crosshair !important;
	height:15px;
	width:15px;
  }
  </style>
  </body>
</html>
